<mvc:View controllerName="com.YPF.mapApp.controller.MainView"
  displayBlock="true"
  xmlns="sap.m"
  xmlns:core="sap.ui.core"
  xmlns:uxap="sap.uxap"
  xmlns:f="sap.f"
  xmlns:mvc="sap.ui.core.mvc">
    <App id="idAppControl">
        <pages>
            <f:DynamicPage 
                id="dynamicPageId"
                headerExpanded="false" class="sapUiNoContentPadding">
                <f:title>
                <f:DynamicPageTitle>
                    <f:heading>
                        <Title text="{i18n>masterTitle}"/>
                    </f:heading>
                    <f:expandedContent>
                        <Label text="{i18n>masterLabelSubtitle}"/>
                    </f:expandedContent>
                    <f:snappedContent>
                        <Label text="{i18n>masterLabelSubtitle}"/>
                    </f:snappedContent>
                    <f:snappedTitleOnMobile>
                        <Title text="{i18n>masterPage}"/>
                    </f:snappedTitleOnMobile>
                    <f:content>

                    </f:content>
                    <f:actions>
                        <Button icon="sap-icon://action" type="Transparent"/>
                    </f:actions>
                    <f:navigationActions>
                        <Button icon="sap-icon://full-screen" type="Transparent" />
                        <Button icon="sap-icon://exit-full-screen" type="Transparent" />
                        <Button icon="sap-icon://decline" type="Transparent" />
                    </f:navigationActions>
                </f:DynamicPageTitle>
            </f:title>
            <f:header>
            </f:header>
            <f:content>
                <VBox>
                    <Table
                    showNoData="false">
                        <headerToolbar>
                            <OverflowToolbar>
                                <!-- <FacetFilter
                                        id="idFacetFilterDriver"
                                        type="Simple"
                                        showPersonalization="true"
                                        showReset="true"
                                        reset="handleFacetFilterReset"
                                        confirm="handleConfirm"
                                        lists=""> 
                                            <FacetFilterList
                                                title=""
                                                key=""
                                                mode="MultiSelect"
                                                items="" >
                                                    <FacetFilterItem
                                                        text=""
                                                        key=""
                                                        count="" />
                                            </FacetFilterList>
                                </FacetFilter> -->
                                <ToolbarSpacer/>
                                <SearchField width="20%" placeholder="Buscar por codigo" class="sapUiSmallMargin" liveChange="onFilterRoutes"/>
                                <OverflowToolbarButton icon="sap-icon://add" type="Transparent" press="onAdd"/>
                                <OverflowToolbarButton
                                    tooltip="Sort"
                                    icon="sap-icon://sort"
                                    press="onSortRoutesButtonPressed"
                                    ariaHasPopup="Dialog"/>
                            </OverflowToolbar>
                        </headerToolbar>
                    </Table>
                    <!--Aca va el ScrollBar-->
                    <ScrollContainer  width="100%" height="40rem" horizontal="true" vertical="true" focusable="true" >
                    <Table
                        id="routesTable"
                        inset="false"
                        items="{RoutesModel>/}">
                        <columns>   
                            <Column
                                id="idRuta" 
                                width="12em">
                                <Text text="{i18n>idRoute}" />
                            </Column>
                            <Column
                                id="routeFrom"
                                hAlign="Center"
                                demandPopin="true">
                                <Text text="{i18n>routeFrom}" />
                            </Column>
                            <Column
                                id="routeTo"
                                demandPopin="true"
                                hAlign="Center">
                                <Text text="{i18n>routeTo}" />
                            </Column>
                            <Column
                                id="routeDriver"
                                demandPopin="true"
                                hAlign="Center">
                                <Text text="{i18n>routeDriver}"/>
                            </Column>
                            <Column
                                id="vehicleId"
                                demandPopin="true"
                                hAlign="Center">
                                <Text text="{i18n>routeVehicleId}" />
                            </Column>
                            <Column
                                id="status"
                                hAlign="End">
                                <Text text="{i18n>routeStatus}" />
                            </Column>
                        </columns>
                        <items>
                            <ColumnListItem
                                type="Navigation"
                                press="onPressGoToRouteDetail">
                                <cells>
                                    <ObjectIdentifier
                                        title="{RoutesModel>ROU_ID}"/>
                                    <ObjectStatus text="{parts: ['RoutesModel>LOCATION_FROM/LO_CITY','RoutesModel>LOCATION_FROM/LO_COUNTRY']}"/>
                                    <ObjectStatus text="{parts: ['RoutesModel>LOCATION_TO/LO_CITY','RoutesModel>LOCATION_TO/LO_COUNTRY']}"/>
                                    <ObjectStatus text="{parts: ['RoutesModel>DRIVER/DRI_NAME', 'RoutesModel>DRIVER/DRI_LASTNAME']}"/>
                                    <ObjectStatus text="{RoutesModel>VEHICLE/VEH_ID}"/>
                                    <ObjectStatus text="{path: 'RoutesModel>ROU_STATUS', formatter: '.formatter.formatRouteStatusToText'}" state="{path: 'RoutesModel>ROU_STATUS', formatter: '.formatter.formatRouteStatusToState'}"  class="sapMObjectStatusMedium"/>         
                                </cells>
                            </ColumnListItem>
                        </items>
                    </Table> 
                    </ScrollContainer>
                </VBox>
            </f:content>
            <f:footer>
            </f:footer>
            </f:DynamicPage>
        </pages>
    </App>
</mvc:View>